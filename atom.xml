<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>PentonBin&#39;s blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://pentonbin.github.io/"/>
  <updated>2018-09-30T07:12:01.623Z</updated>
  <id>https://pentonbin.github.io/</id>
  
  <author>
    <name>yao伟斌</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ubuntu16.04安装VMWare Workstation</title>
    <link href="https://pentonbin.github.io/2018/03/07/Ubuntu16.04%E5%AE%89%E8%A3%85VMWare%20Workstation/"/>
    <id>https://pentonbin.github.io/2018/03/07/Ubuntu16.04安装VMWare Workstation/</id>
    <published>2018-03-07T08:02:00.000Z</published>
    <updated>2018-09-30T07:12:01.623Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、安装过程"><a href="#一、安装过程" class="headerlink" title="一、安装过程"></a>一、安装过程</h2><h3 id="1-安装开发工具"><a href="#1-安装开发工具" class="headerlink" title="1. 安装开发工具"></a>1. 安装开发工具</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo apt install build-essential</span><br></pre></td></tr></table></figure><h3 id="2-下载"><a href="#2-下载" class="headerlink" title="2. 下载"></a>2. 下载</h3><p>从VMWare的官网<a href="http://www.vmware.com/go/tryworkstation-linux-64" target="_blank" rel="noopener">http://www.vmware.com/go/tryworkstation-linux-64</a> 下载，文件类型是<code>.bundle</code>。<br>此时下载的版本是Vmware Workstation 14。</p><h3 id="3-安装VMWare"><a href="#3-安装VMWare" class="headerlink" title="3. 安装VMWare"></a>3. 安装VMWare</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> chmod a+x VMware-Workstation-Full-14.1.1-7528167.x86_64.bundle</span><br><span class="line"><span class="meta">$</span> sudo ./VMware-Workstation-Full-14.1.1-7528167.x86_64.bundle</span><br></pre></td></tr></table></figure><p>执行后会出现VMWare的安装窗口，需要同意协议、选择是否在启动时检查更新等操作，最后安装完成。</p><h3 id="4-启动VMWare"><a href="#4-启动VMWare" class="headerlink" title="4. 启动VMWare"></a>4. 启动VMWare</h3><p>在终端启动，或者在菜单启动<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> vmware</span><br></pre></td></tr></table></figure></p><a id="more"></a><h3 id="5-激活密钥"><a href="#5-激活密钥" class="headerlink" title="5. 激活密钥"></a>5. 激活密钥</h3><p>网上找的VMware workstation 14永久激活密钥：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CG54H-D8D0H-H8DHY-C6X7X-N2KG6</span><br><span class="line">ZC3WK-AFXEK-488JP-A7MQX-XL8YF</span><br><span class="line">AC5XK-0ZD4H-088HP-9NQZV-ZG2R4</span><br><span class="line">ZC5XK-A6E0M-080XQ-04ZZG-YF08D</span><br><span class="line">ZY5H0-D3Y8K-M89EZ-AYPEG-MYUA8</span><br><span class="line">FF590-2DX83-M81LZ-XDM7E-MKUT4</span><br><span class="line">FF31K-AHZD1-H8ETZ-8WWEZ-WUUVA</span><br><span class="line">CV7T2-6WY5Q-48EWP-ZXY7X-QGUWD</span><br><span class="line">AALYG-20HVE-WHQ13-67MUP-XVMF3</span><br></pre></td></tr></table></figure></p><h3 id="6-卸载VMWare"><a href="#6-卸载VMWare" class="headerlink" title="6. 卸载VMWare"></a>6. 卸载VMWare</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo vmware-installer --uninstall-product vmware-workstation</span><br></pre></td></tr></table></figure><hr><h2 id="二、解决could-not-open-dev-vmmon-no-such-file-or-directory问题"><a href="#二、解决could-not-open-dev-vmmon-no-such-file-or-directory问题" class="headerlink" title="二、解决could not open /dev/vmmon no such file or directory问题"></a>二、解决could not open /dev/vmmon no such file or directory问题</h2><h3 id="1-方法1"><a href="#1-方法1" class="headerlink" title="1. 方法1"></a>1. 方法1</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd /tmp</span><br><span class="line"><span class="meta">$</span> tar -xzvf /usr/lib/vmware/modules/source/vmmon.tar</span><br><span class="line"><span class="meta">$</span> cd vmmon-only/</span><br><span class="line"><span class="meta">$</span> make</span><br><span class="line"><span class="meta">$</span> sudo cp vmmon.ko /lib/modules/4.4.0-116-generic/misc/vmmon.ko</span><br><span class="line"><span class="meta">$</span> sudo modprobe vmmon</span><br></pre></td></tr></table></figure><p>如果执行tar解压时候出现：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gzip: stdin: not in gzip format</span><br><span class="line">tar: Child returned status 1</span><br><span class="line">tar: Error is not recoverable: exiting now</span><br></pre></td></tr></table></figure></p><p>则将上面<code>tar -xzvf /usr/lib/vmware/modules/source/vmmon.tar</code>命令改为：<code>tar xvf /usr/lib/vmware/modules/source/vmmon.tar</code></p><p>执行完上面的步骤之后，启动虚拟机，看是否解决了问题。</p><p><strong>参考：</strong><a href="https://communities.vmware.com/message/2442783" target="_blank" rel="noopener">https://communities.vmware.com/message/2442783</a></p><h3 id="2-方法2"><a href="#2-方法2" class="headerlink" title="2. 方法2"></a>2. 方法2</h3><p>可能出现的原因和gcc版本有关，所以查看自己gcc的版本：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> gcc --version</span><br><span class="line">gcc (Ubuntu 5.4.0-6ubuntu1~16.04.9) 5.4.0 20160609</span><br><span class="line">Copyright (C) 2015 Free Software Foundation, Inc.</span><br><span class="line">This is free software; see the source for copying conditions. There is NO</span><br><span class="line">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span><br></pre></td></tr></table></figure></p><p>如果gcc版本太低，例如4.5（4.6及以上应该没问题），则安装新版本的gcc，例如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo apt install gcc-5</span><br><span class="line"><span class="meta">$</span> sudo rm /usr/bin/gcc</span><br><span class="line"><span class="meta">$</span> sudo ln -s /usr/bin/gcc-5 /usr/bin/gcc</span><br></pre></td></tr></table></figure></p><p>确认更新gcc版本之后，执行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo vmware-modconfig --console --install-all</span><br></pre></td></tr></table></figure></p><p>如果最后出现以下结果则表示成功。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Starting VMware services:</span><br><span class="line">   Virtual machine monitor                  done</span><br><span class="line">   Virtual machine communication interface  done</span><br><span class="line">   VM communication interface socket family done</span><br><span class="line">   Blocking file system                     done</span><br><span class="line">   Virtual ethernet                         done</span><br><span class="line">   VMware Authentication Daemon             done</span><br><span class="line">   Shared Memory Available                  done</span><br></pre></td></tr></table></figure></p><p>如果最后执行结果中出现了如下的failed，则<strong>关闭BIOS中的secure boot</strong>，然后再执行：<code>sudo vmware-modconfig --console --install-all</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Starting VMware services:</span><br><span class="line">   Virtual machine monitor                  failed</span><br><span class="line">   Virtual machine communication interface  done</span><br><span class="line">   VM communication interface socket family done</span><br><span class="line">   Blocking file system                     done</span><br><span class="line">   Virtual ethernet                         failed</span><br><span class="line">   VMware Authentication Daemon             done</span><br><span class="line">   Shared Memory Available                  done</span><br></pre></td></tr></table></figure></p><p><strong>参考：</strong><a href="https://communities.vmware.com/message/2611517#2611517" target="_blank" rel="noopener">https://communities.vmware.com/message/2611517#2611517</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、安装过程&quot;&gt;&lt;a href=&quot;#一、安装过程&quot; class=&quot;headerlink&quot; title=&quot;一、安装过程&quot;&gt;&lt;/a&gt;一、安装过程&lt;/h2&gt;&lt;h3 id=&quot;1-安装开发工具&quot;&gt;&lt;a href=&quot;#1-安装开发工具&quot; class=&quot;headerlink&quot; title=&quot;1. 安装开发工具&quot;&gt;&lt;/a&gt;1. 安装开发工具&lt;/h3&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; sudo apt install build-essential&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;2-下载&quot;&gt;&lt;a href=&quot;#2-下载&quot; class=&quot;headerlink&quot; title=&quot;2. 下载&quot;&gt;&lt;/a&gt;2. 下载&lt;/h3&gt;&lt;p&gt;从VMWare的官网&lt;a href=&quot;http://www.vmware.com/go/tryworkstation-linux-64&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.vmware.com/go/tryworkstation-linux-64&lt;/a&gt; 下载，文件类型是&lt;code&gt;.bundle&lt;/code&gt;。&lt;br&gt;此时下载的版本是Vmware Workstation 14。&lt;/p&gt;
&lt;h3 id=&quot;3-安装VMWare&quot;&gt;&lt;a href=&quot;#3-安装VMWare&quot; class=&quot;headerlink&quot; title=&quot;3. 安装VMWare&quot;&gt;&lt;/a&gt;3. 安装VMWare&lt;/h3&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; chmod a+x VMware-Workstation-Full-14.1.1-7528167.x86_64.bundle&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; sudo ./VMware-Workstation-Full-14.1.1-7528167.x86_64.bundle&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;执行后会出现VMWare的安装窗口，需要同意协议、选择是否在启动时检查更新等操作，最后安装完成。&lt;/p&gt;
&lt;h3 id=&quot;4-启动VMWare&quot;&gt;&lt;a href=&quot;#4-启动VMWare&quot; class=&quot;headerlink&quot; title=&quot;4. 启动VMWare&quot;&gt;&lt;/a&gt;4. 启动VMWare&lt;/h3&gt;&lt;p&gt;在终端启动，或者在菜单启动&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; vmware&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Ubuntu" scheme="https://pentonbin.github.io/categories/Ubuntu/"/>
    
    
      <category term="Ubuntu" scheme="https://pentonbin.github.io/tags/Ubuntu/"/>
    
      <category term="VMWare Workstation" scheme="https://pentonbin.github.io/tags/VMWare-Workstation/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu搭载Android开发环境（无需翻墙）</title>
    <link href="https://pentonbin.github.io/2017/11/27/Ubuntu%E6%90%AD%E8%BD%BDAndroid%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%88%E6%97%A0%E9%9C%80%E7%BF%BB%E5%A2%99%EF%BC%89/"/>
    <id>https://pentonbin.github.io/2017/11/27/Ubuntu搭载Android开发环境（无需翻墙）/</id>
    <published>2017-11-27T11:27:00.000Z</published>
    <updated>2018-09-30T07:12:01.623Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、相关下载的地址"><a href="#一、相关下载的地址" class="headerlink" title="一、相关下载的地址"></a>一、相关下载的地址</h2><ol><li>sdk下载<ul><li>郑州大学：<a href="https://mirrors.zzu.edu.cn/android/repository/" target="_blank" rel="noopener">https://mirrors.zzu.edu.cn/android/repository/</a></li><li>大连东软信息学院：<a href="http://mirrors.neusoft.edu.cn/android/repository/" target="_blank" rel="noopener">http://mirrors.neusoft.edu.cn/android/repository/</a></li></ul></li><li>Android studio<ul><li>Android Studio 中文社区(官网)：<a href="http://www.android-studio.org/" target="_blank" rel="noopener">http://www.android-studio.org/</a> </li></ul></li></ol><hr><h2 id="二、下载SDK相关包"><a href="#二、下载SDK相关包" class="headerlink" title="二、下载SDK相关包"></a>二、下载SDK相关包</h2><p>新建SDK目录，SDK的目录下面用<code>$SDK</code>表示：</p><ol><li>在<code>$SDK</code>下新建<strong><code>build-tools</code>、<code>tools</code>、<code>platform-tools</code>、<code>platforms</code></strong>四个文件夹。</li><li>下载<strong><code>build-tools</code></strong><ul><li>找到对应的平台，例如linux、macosx、windows等</li><li>解压下载的zip包，解压后得到<code>android-6.0</code>或<code>23.0.1</code>，<strong>放到<code>$SDK/build-tools/</code>目录下</strong></li></ul></li><li>下载<strong><code>sdk tools</code></strong><ul><li>找到对应的平台，例如linux、macosx、windows等</li><li>解压下载的zip包，解压后得到<code>tools</code>，<strong>直接放到<code>$SDK/</code>目录下</strong></li></ul></li><li>下载<strong><code>platform-tools</code></strong><ul><li>找到对应的平台，例如linux、macosx、windows等</li><li>解压下载的zip包，解压后得到<code>platform-tools</code>，<strong>直接放到<code>$SDK/</code>目录下</strong></li></ul></li><li>下载<strong><code>sdk</code></strong><ul><li>找到对应API的zip包，例如<code>android-23_r02.zip</code>（23_r03之前名字）或<code>platform-23_r03.zip</code>（23_r03及之后的名字），不分平台</li><li>解压下载的zip包，解压后得到<code>android-6.0</code>，<strong>放到<code>$SDK/platforms/</code>目录下</strong></li></ul></li></ol><a id="more"></a><hr><h2 id="三、安装Android-Studio"><a href="#三、安装Android-Studio" class="headerlink" title="三、安装Android Studio"></a>三、安装Android Studio</h2><ol><li>解压Android Studio的压缩包，Studio的目录下面用<code>$STUDIO</code>表示</li><li>cd到<code>$STUDIO/bin</code>目录，通过<code>./studio.sh</code>启动Studio<ul><li>如果启动Studio的时出现<code>Unable to access android sdk add-on list</code>的问题，在<code>$STUDIO/bin/idea.properties</code>文件末尾添加：<code>disable.android.first.run=true</code>即可。</li></ul></li><li>进入Studio。</li></ol><hr><h2 id="四、其他问题"><a href="#四、其他问题" class="headerlink" title="四、其他问题"></a>四、其他问题</h2><p>说明：Studio的log文件在用户目录下<code>$HOME/.AndroidStudio2.3/system/log</code>中，其中目录可能因为Studio的版本不同而名字不同，例如<code>.AndroidStudioPreview3.1</code>。有问题均可查看该日志文件。</p><ol><li><code>Error:Failed to find target with hash string &#39;android-26&#39; in $SDK</code>的问题<br>这个问题很可能是因为<code>compileSdkVersion</code>设置为26，也就是<code>platforms</code>目录下缺少Android8.0（API 26）。下载API 26并解压到<code>platforms</code>目录下即可。</li><li><code>Error:Failed to find Build Tools revision 27.0.1</code><br>缺少build-tools 27.0.1的版本，下载对应的zip包，解压到<code>build-tools</code>即可</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、相关下载的地址&quot;&gt;&lt;a href=&quot;#一、相关下载的地址&quot; class=&quot;headerlink&quot; title=&quot;一、相关下载的地址&quot;&gt;&lt;/a&gt;一、相关下载的地址&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;sdk下载&lt;ul&gt;
&lt;li&gt;郑州大学：&lt;a href=&quot;https://mirrors.zzu.edu.cn/android/repository/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://mirrors.zzu.edu.cn/android/repository/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;大连东软信息学院：&lt;a href=&quot;http://mirrors.neusoft.edu.cn/android/repository/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://mirrors.neusoft.edu.cn/android/repository/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Android studio&lt;ul&gt;
&lt;li&gt;Android Studio 中文社区(官网)：&lt;a href=&quot;http://www.android-studio.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.android-studio.org/&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&quot;二、下载SDK相关包&quot;&gt;&lt;a href=&quot;#二、下载SDK相关包&quot; class=&quot;headerlink&quot; title=&quot;二、下载SDK相关包&quot;&gt;&lt;/a&gt;二、下载SDK相关包&lt;/h2&gt;&lt;p&gt;新建SDK目录，SDK的目录下面用&lt;code&gt;$SDK&lt;/code&gt;表示：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在&lt;code&gt;$SDK&lt;/code&gt;下新建&lt;strong&gt;&lt;code&gt;build-tools&lt;/code&gt;、&lt;code&gt;tools&lt;/code&gt;、&lt;code&gt;platform-tools&lt;/code&gt;、&lt;code&gt;platforms&lt;/code&gt;&lt;/strong&gt;四个文件夹。&lt;/li&gt;
&lt;li&gt;下载&lt;strong&gt;&lt;code&gt;build-tools&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;找到对应的平台，例如linux、macosx、windows等&lt;/li&gt;
&lt;li&gt;解压下载的zip包，解压后得到&lt;code&gt;android-6.0&lt;/code&gt;或&lt;code&gt;23.0.1&lt;/code&gt;，&lt;strong&gt;放到&lt;code&gt;$SDK/build-tools/&lt;/code&gt;目录下&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;下载&lt;strong&gt;&lt;code&gt;sdk tools&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;找到对应的平台，例如linux、macosx、windows等&lt;/li&gt;
&lt;li&gt;解压下载的zip包，解压后得到&lt;code&gt;tools&lt;/code&gt;，&lt;strong&gt;直接放到&lt;code&gt;$SDK/&lt;/code&gt;目录下&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;下载&lt;strong&gt;&lt;code&gt;platform-tools&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;找到对应的平台，例如linux、macosx、windows等&lt;/li&gt;
&lt;li&gt;解压下载的zip包，解压后得到&lt;code&gt;platform-tools&lt;/code&gt;，&lt;strong&gt;直接放到&lt;code&gt;$SDK/&lt;/code&gt;目录下&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;下载&lt;strong&gt;&lt;code&gt;sdk&lt;/code&gt;&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;找到对应API的zip包，例如&lt;code&gt;android-23_r02.zip&lt;/code&gt;（23_r03之前名字）或&lt;code&gt;platform-23_r03.zip&lt;/code&gt;（23_r03及之后的名字），不分平台&lt;/li&gt;
&lt;li&gt;解压下载的zip包，解压后得到&lt;code&gt;android-6.0&lt;/code&gt;，&lt;strong&gt;放到&lt;code&gt;$SDK/platforms/&lt;/code&gt;目录下&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Ubuntu" scheme="https://pentonbin.github.io/categories/Ubuntu/"/>
    
      <category term="Android" scheme="https://pentonbin.github.io/categories/Ubuntu/Android/"/>
    
    
      <category term="Ubuntu" scheme="https://pentonbin.github.io/tags/Ubuntu/"/>
    
      <category term="Android" scheme="https://pentonbin.github.io/tags/Android/"/>
    
      <category term="开发环境" scheme="https://pentonbin.github.io/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
  </entry>
  
  <entry>
    <title>wine安装最新版QQ</title>
    <link href="https://pentonbin.github.io/2017/11/26/wine%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%89%88QQ/"/>
    <id>https://pentonbin.github.io/2017/11/26/wine安装最新版QQ/</id>
    <published>2017-11-26T11:27:00.000Z</published>
    <updated>2018-09-30T07:12:01.624Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-安装wine"><a href="#1-安装wine" class="headerlink" title="1. 安装wine"></a>1. 安装wine</h2><p>本次教程只需要安装最新版本的wine，并不需要<code>winetricks</code>、<code>wine-mono</code>、<code>wine-gecko</code>等其他插件，目前经实际测试发现只运行WineQQ可以不需要<code>wine-mono</code>、<code>wine-gecko</code>、<code>W2KSP4.exe</code>、<code>InstMsiW.exe</code>等。</p><p>安装wine步骤如下：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo dpkg --add-architecture i386</span><br><span class="line"><span class="meta">$</span> wget https://dl.winehq.org/wine-builds/Release.key</span><br><span class="line"><span class="meta">$</span> sudo apt-key add Release.key</span><br><span class="line"><span class="meta">$</span> sudo apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/</span><br><span class="line"><span class="meta">$</span> sudo apt-get update</span><br><span class="line"><span class="meta">$</span> sudo apt-get install --install-recommends winehq-stable</span><br></pre></td></tr></table></figure></p><p>至此wine安装完成，可以通过<code>wine --version</code>查看版本号（此时安装的是wine2.0.3）。</p><p>接下来需要执行<code>winecfg</code>来配置wine，接着会弹出安装<code>wine-mono</code>和<code>wine-gecko</code>的窗口，可以不用安装，关掉即可。</p><hr><h2 id="2-配置wine"><a href="#2-配置wine" class="headerlink" title="2. 配置wine"></a>2. 配置wine</h2><ol><li>执行<code>winecfg</code>打开wine的配置窗口</li><li>点击<code>Libraries</code><br><br><img src="/images/wine安装最新版QQ/winecfg配置.png" alt="winecfg配置"></li><li>在<code>New override for library</code>中分别输入<code>*ntoskrnl.exe</code>、<code>*riched20</code>、<code>*txplatform.exe</code>，然后回车（名字前的<code>*</code>号可以省略）。</li><li>在<code>Existing_overrides</code>新出现的<code>*ntoskrnl.exe</code>和<code>*txplatform.exe</code>，分别点击<code>Edit</code>，均选择<code>Disable</code>；<code>*riched20</code>点击<code>Edit</code>，选择<code>native then builtin</code><ul><li>如果不配置riched20的话则安装好QQ后无法输入用户名</li><li>不停用txplatform.exe则WineQQ无法完整退出，导致关掉重开后提示QQ文件被占用</li><li>禁用ntoskrnl.exe是为了规避可能出现QQ无法启动的bug。</li></ul></li></ol><a id="more"></a><hr><h2 id="3-解决乱码问题"><a href="#3-解决乱码问题" class="headerlink" title="3. 解决乱码问题"></a>3. 解决乱码问题</h2><ol><li>初始配置<br>运行<code>winecfg</code>，在<code>Applications</code>标签下把模拟的windows系统设置为windows xp</li><li>准备字体<br>把Windows目录下的字体<code>simsun.ttc</code>复制到<code>/usr/share/fonts/windows</code>里面</li><li><p>在<code>~/.wine/drive_c/windows/Fonts</code>目录中创建两个符号链接：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ln -s /usr/share/fonts/windows/simsun.ttc simsun.ttc</span><br><span class="line"><span class="meta">$</span> ln -s /usr/share/fonts/windows/simsun.ttc simfang.ttc</span><br></pre></td></tr></table></figure></li><li><p>修改<code>~/.wine/system.reg</code></p><ul><li>查找<code>LogPixels</code>，找到的行内容应该是：<code>[System\\CurrentControlSet\\Hardware Profiles\\Current\\Software\\Fonts]</code><br>将其中的<code>&quot;LogPixels&quot;=dword:00000060</code>改为：<code>&quot;LogPixels&quot;=dword:00000070</code></li><li>查找<code>FontSubstitutes</code>，找到的行应该是：<code>[Software\\Microsoft\\Windows NT\\CurrentVersion\\FontSubstitutes]</code><br>将其中的：<code>&quot;MS Shell Dlg&quot;=&quot;Tahoma&quot; &quot;MS Shell Dlg 2″=&quot;Tahoma&quot;</code>改为：<code>&quot;MS Shell Dlg&quot;=&quot;SimSun&quot; &quot;MS Shell Dlg 2″=&quot;SimSun&quot;</code></li></ul></li><li><p>修改<code>~/.wine/drive_c/windows/win.ini</code><br>在末尾添加如下内容：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Desktop]</span><br><span class="line">menufontsize=13</span><br><span class="line">messagefontsize=13</span><br><span class="line">statusfontsize=13</span><br><span class="line">IconTitleSize=13</span><br></pre></td></tr></table></figure></li><li><p>把以下代码保存为<code>zh.reg</code>，然后执行<code>regedit zh.reg</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">REGEDIT4</span><br><span class="line">[HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontSubstitutes]</span><br><span class="line">"Arial"="simsun"</span><br><span class="line">"Arial CE,238"="simsun"</span><br><span class="line">"Arial CYR,204"="simsun"</span><br><span class="line">"Arial Greek,161"="simsun"</span><br><span class="line">"Arial TUR,162"="simsun"</span><br><span class="line">"Courier New"="simsun"</span><br><span class="line">"Courier New CE,238"="simsun"</span><br><span class="line">"Courier New CYR,204"="simsun"</span><br><span class="line">"Courier New Greek,161"="simsun"</span><br><span class="line">"Courier New TUR,162"="simsun"</span><br><span class="line">"FixedSys"="simsun"</span><br><span class="line">"Helv"="simsun"</span><br><span class="line">"Helvetica"="simsun"</span><br><span class="line">"MS Sans Serif"="simsun"</span><br><span class="line">"MS Shell Dlg"="simsun"</span><br><span class="line">"MS Shell Dlg 2"="simsun"</span><br><span class="line">"System"="simsun"</span><br><span class="line">"Tahoma"="simsun"</span><br><span class="line">"Times"="simsun"</span><br><span class="line">"Times New Roman CE,238"="simsun"</span><br><span class="line">"Times New Roman CYR,204"="simsun"</span><br><span class="line">"Times New Roman Greek,161"="simsun"</span><br><span class="line">"Times New Roman TUR,162"="simsun"</span><br><span class="line">"Tms Rmn"="simsun"</span><br></pre></td></tr></table></figure></li></ol><hr><h2 id="4-安装QQ"><a href="#4-安装QQ" class="headerlink" title="4. 安装QQ"></a>4. 安装QQ</h2><ol><li>官网下载最新版QQ</li><li><p>使用wine进行安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> wine QQ8.9.3.exe</span><br></pre></td></tr></table></figure></li><li><p>运行QQ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> wine $HOME/.wine/drive_c/Program\ Files\ \(x86\)/Tencent/QQ/Bin/QQ.exe</span><br></pre></td></tr></table></figure><p>注意上面的<code>$HOME</code>为自己home目录。</p></li></ol><hr><h2 id="5-创建桌面图标"><a href="#5-创建桌面图标" class="headerlink" title="5. 创建桌面图标"></a>5. 创建桌面图标</h2><p>创建以下内容的desktop文件：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Version=1.0</span><br><span class="line">Type=Application</span><br><span class="line">Name=Tencent QQ</span><br><span class="line">Icon=$HOME/Pictures/qq.png</span><br><span class="line">Exec=wine $HOME/.wine/drive_c/Program\ Files\ \(x86\)/Tencent/QQ/Bin/QQ.exe</span><br><span class="line">Comment=QQ</span><br><span class="line">Categories=Network;InstantMessaging;</span><br><span class="line">Terminal=false</span><br></pre></td></tr></table></figure></p><p>注意：上面的<code>$HOME</code>改为自己的home目录路径，<code>Icon</code>的图标需要自己下载并放到本地。</p><p>将上面的文件名保存为<code>QQ.desktop</code>（文件后缀为desktop），修改权限为664，然后<strong>放到：<code>$HOME/.local/share/applications/</code>目录下</strong>，也可以直接将该文件拖到启动栏。</p><hr><h2 id="6-存在的问题"><a href="#6-存在的问题" class="headerlink" title="6. 存在的问题"></a>6. 存在的问题</h2><ol><li>无法保存密码；</li><li>页面部分字体会乱码（变成方框）；</li><li>无法输入中文（fcitx输入法，包括搜狗）：<strong>这一点很蛋疼</strong>，但有的人不会出现。可能解决方案：<ul><li>卸载ibus，但亲测卸载ibus会把unity也一同卸载，所以不可行；</li><li>把要输入的文字在其他软件中（如gedit）编写，然后粘贴到聊天框；</li></ul></li></ol><hr><h2 id="7-参考"><a href="#7-参考" class="headerlink" title="7. 参考"></a>7. 参考</h2><p><a href="https://www.ubuntukylin.com/ukylin/forum.php?mod=viewthread&amp;tid=30511" target="_blank" rel="noopener">https://www.ubuntukylin.com/ukylin/forum.php?mod=viewthread&amp;tid=30511</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-安装wine&quot;&gt;&lt;a href=&quot;#1-安装wine&quot; class=&quot;headerlink&quot; title=&quot;1. 安装wine&quot;&gt;&lt;/a&gt;1. 安装wine&lt;/h2&gt;&lt;p&gt;本次教程只需要安装最新版本的wine，并不需要&lt;code&gt;winetricks&lt;/code&gt;、&lt;code&gt;wine-mono&lt;/code&gt;、&lt;code&gt;wine-gecko&lt;/code&gt;等其他插件，目前经实际测试发现只运行WineQQ可以不需要&lt;code&gt;wine-mono&lt;/code&gt;、&lt;code&gt;wine-gecko&lt;/code&gt;、&lt;code&gt;W2KSP4.exe&lt;/code&gt;、&lt;code&gt;InstMsiW.exe&lt;/code&gt;等。&lt;/p&gt;
&lt;p&gt;安装wine步骤如下：&lt;br&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; sudo dpkg --add-architecture i386&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; wget https://dl.winehq.org/wine-builds/Release.key&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; sudo apt-key add Release.key&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; sudo apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; sudo apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt; sudo apt-get install --install-recommends winehq-stable&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;至此wine安装完成，可以通过&lt;code&gt;wine --version&lt;/code&gt;查看版本号（此时安装的是wine2.0.3）。&lt;/p&gt;
&lt;p&gt;接下来需要执行&lt;code&gt;winecfg&lt;/code&gt;来配置wine，接着会弹出安装&lt;code&gt;wine-mono&lt;/code&gt;和&lt;code&gt;wine-gecko&lt;/code&gt;的窗口，可以不用安装，关掉即可。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;2-配置wine&quot;&gt;&lt;a href=&quot;#2-配置wine&quot; class=&quot;headerlink&quot; title=&quot;2. 配置wine&quot;&gt;&lt;/a&gt;2. 配置wine&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;执行&lt;code&gt;winecfg&lt;/code&gt;打开wine的配置窗口&lt;/li&gt;
&lt;li&gt;点击&lt;code&gt;Libraries&lt;/code&gt;&lt;br&gt;&lt;br&gt;&lt;img src=&quot;/images/wine安装最新版QQ/winecfg配置.png&quot; alt=&quot;winecfg配置&quot;&gt;&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;New override for library&lt;/code&gt;中分别输入&lt;code&gt;*ntoskrnl.exe&lt;/code&gt;、&lt;code&gt;*riched20&lt;/code&gt;、&lt;code&gt;*txplatform.exe&lt;/code&gt;，然后回车（名字前的&lt;code&gt;*&lt;/code&gt;号可以省略）。&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;Existing_overrides&lt;/code&gt;新出现的&lt;code&gt;*ntoskrnl.exe&lt;/code&gt;和&lt;code&gt;*txplatform.exe&lt;/code&gt;，分别点击&lt;code&gt;Edit&lt;/code&gt;，均选择&lt;code&gt;Disable&lt;/code&gt;；&lt;code&gt;*riched20&lt;/code&gt;点击&lt;code&gt;Edit&lt;/code&gt;，选择&lt;code&gt;native then builtin&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;如果不配置riched20的话则安装好QQ后无法输入用户名&lt;/li&gt;
&lt;li&gt;不停用txplatform.exe则WineQQ无法完整退出，导致关掉重开后提示QQ文件被占用&lt;/li&gt;
&lt;li&gt;禁用ntoskrnl.exe是为了规避可能出现QQ无法启动的bug。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="Ubuntu" scheme="https://pentonbin.github.io/categories/Ubuntu/"/>
    
    
      <category term="Ubuntu" scheme="https://pentonbin.github.io/tags/Ubuntu/"/>
    
      <category term="wine" scheme="https://pentonbin.github.io/tags/wine/"/>
    
      <category term="QQ" scheme="https://pentonbin.github.io/tags/QQ/"/>
    
  </entry>
  
</feed>
